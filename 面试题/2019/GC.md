### 基本掌握GC ###
学习链接：[https://www.jianshu.com/p/76959115d486](https://www.jianshu.com/p/76959115d486)


java内存模型：堆（创建对象存放地址） 栈（局部变量） 方法区（静态常量，静态方法）
本地方法栈（c++代码）  程序计数器（标记线程，为了保证切换线程数据继续上一个地方进行）

1. 哪些内存需要回收
2. 什么时候回收
3. 怎么回收

#### 哪些内存需要回收 ####

java内存模型中分为五大区域已经有所了解。我们知道程序计数器、虚拟机栈、本地方法栈，由线程而生，随线程而灭，其中栈中的栈帧随着方法的进入顺序的执行的入栈和出栈的操作，一个栈帧需要分配多少内存取决于具体的虚拟机实现并且在编译期间即确定下来【忽略JIT编译器做的优化，基本当成编译期间可知】，当方法或线程执行完毕后，内存就随着回收，因此无需关心。

而Java堆、方法区则不一样。方法区存放着类加载信息，但是一个接口中多个实现类需要的内存可能不太一样，一个方法中多个分支需要的内存也可能不一样【只有在运行期间才可知道这个方法创建了哪些对象没需要多少内存】，这部分内存的分配和回收都是动态的，gc关注的也正是这部分的内存。


**Java堆是GC回收的“重点区域”。堆中基本存放着所有对象实例，gc进行回收前，第一件事就是确认哪些对象存活，哪些死去[即不可能再被引用]**